let source_link='<p>Узнать детали: <a href="'+location.href+'">'+location.href+"</a></p>";jQuery(function(e){window.getSelection&&e("html").bind("copy",function(){let n=window.getSelection(),t=n.getRangeAt(0),o=e("<div>").css({overflow:"hidden",width:"1px",height:"1px",position:"absolute",top:"-10000px",left:"-10000px"});o.append(t.cloneContents(),source_link);let l=o[0].innerHTML.replace(/<p.*?<\/p>/g,"").length;e("body").append(l>100?o:o.replace(/<p.*?<\/p>/g,""));let i=t.cloneRange();n.removeAllRanges();let a=document.createRange();a.selectNode(o.get(0)),n.addRange(a),window.setTimeout(function(){n.removeAllRanges(),n.addRange(i),o.remove()},0)})});